extends ../layout

block content
    div
        for week in weeks
            .panel.panel-primary
                .panel-heading
                    | #{moment(week.start).format('dddd, M/D/YYYY')} - #{moment(week.end).format('dddd, M/D/YYYY')}
                .panel-body
                    .row
                        .col-xs-4
                            small(style='font-variant: small-caps;') Amount Due
                            h4 $#{formatCurrency(week.amountDue)}
                            small #{week.percentMonth.toLocaleString('en-US')}% of month
                        .col-xs-4
                            small(style='font-variant: small-caps;') Amount Paid
                            h4 $#{formatCurrency(week.amountPaid)}
                            small #{week.percentWeek.toLocaleString('en-US')}% of week
                        .col-xs-4
                            small(style='font-variant: small-caps;') Amount Remaining
                            h4 $#{formatCurrency(week.amountRemain)}
                            small #{week.percentRemain.toLocaleString('en-US')}% of week
                table.table.table-striped
                    thead
                        tr
                            th(width='20%') Date
                            th Name
                            th(width='10%') Mark Paid
                    for payee in week.payees
                        tr
                            td #{moment(payee.date).format('dddd, M/D/YYYY')}
                            td #{payee.name}
                                if (payee.url)
                                    |    
                                    a(href=payee.url target='_blank') <i class="fa fa-external-link"></i>
                                br
                                small #{payee.description}
                            td 
                                if payee.isPaid == false
                                    a.btn.btn-warning(style='width: 100%' href='/payee/view/' + payee.id + '?dt=' + moment(payee.date).format('YYYY-MM-DD')) #{formatCurrency(payee.amount, {format: '%s%v', code: 'USD', symbol: '$'})}
                                else
                                    a.btn.btn-success(style='width: 100%' href='/payee/view/' + payee.id) Paid