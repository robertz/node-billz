extends ../layout

block content
    div
        .panel.panel-primary
            .panel-heading
                | #{moment(startOfMonth).format('dddd, M/D/YYYY')} - #{moment(endOfMonth).format('dddd, M/D/YYYY')}
            .panel-body
                .row
                    .col-xs-4
                        small(style='font-variant: small-caps;') Amount Due
                        h4 $#{formatCurrency(monthlyTotal)}
                    .col-xs-4
                        small(style='font-variant: small-caps;') Amount Paid
                        h4 $#{formatCurrency(amountPaid)}
                        small #{pctPaid.toLocaleString('en-US')}% of month
                    .col-xs-4
                        small(style='font-variant: small-caps;') Amount Remaining
                        h4 $#{formatCurrency(amountRemaining)}
                        small #{pctRemain.toLocaleString('en-US')}% of month
            table.table.table-striped
                thead
                    tr
                        th(width='20%') Date
                        th Name
                        th(width='10%') Mark Paid
                for payee in payees
                    tr
                        td #{moment(payee.date).format('dddd, M/D/YYYY')}
                        td #{payee.name}
                            if (payee.url)
                                |    
                                a(href=payee.url target='_blank') <i class="fa fa-external-link"></i>
                            br
                            | #{payee.description}
                        td 
                            if payee.isPaid == false
                                a.btn.btn-warning(style='width: 100%' href='/payee/view/' + payee.id + '?dt=' + moment(payee.date).format('YYYY-MM-DD')) #{formatCurrency(payee.amount, {format: '%s%v', code: 'USD', symbol: '$'})}
                            else
                                a.btn.btn-success(style='width: 100%' href='/payee/view/' + payee.id) Paid